<?xml version="1.0"?> <!-- + encoding="utf-8"?'> -->
<launch>

  <!-- topic identifying the rgb source -->
  <!-- arg name="rgb_topic" default="/cam3d/rgb/" /-->

  <!-- Declare this arguments, that will be used when opening the nodes and topics -->
  <!-- Camera parameters -->
  <arg name="camera_enable" default="true"/>
	<arg name="camera_device" default="/dev/video0"/>
	<arg name="camera_info" default="file://$(find cf_tf)/data/camera1_1280x720.yaml"/>
	<arg name="camera_frame_id" default="cam0"/>
	<arg name="camera_width" default="1280"/>
	<arg name="camera_height" default="720" />
	<arg name="camera_fps"  default="30"/>

  <!-- Video type and info -->
  <arg name="rgb_topic" default="/camera1/" /> <!-- THE NAME OF THE TOPIC MUST BE BETWEEN /SLASHES/!!! -->
	<arg name="uid" default=""/>
	<arg name="video_namespace" default="cam0"/>
  <!-- Groups with nodes and topics -->
  <!-- Group for camera configuring and image obtention. This works and has been taken from ar_sys single board launcher -->

  <node ns="camera1" pkg="image_proc" type="image_proc" name="image_proc1" />
  <node pkg="usb_cam" type="usb_cam_node" name="camera1" output="screen" >
    <param name="video_device" value="/dev/camera1" />
    <param name="image_width" value="1280" />
    <param name="image_height" value="720" />
    <param name="pixel_format" value="mjpeg" />
    <param name="camera_frame_id" value="camera1" />
    <param name="camera_name" value= "camera1"/>
    <param name="camera_info_url" value= "file:////home/roboterlabor/Documents/camera_system_robotics_lab/camera_calibration_files/camera1/camera1_1280x720.yaml"/>
    <param name="framerate" value="30" />
  </node>

    <!-- Configuration of the marker -->
  <arg name="yaml_file" default="fiducials_0.yaml" />
  <!-- send parameters to parameter server -->
  <rosparam command="load" ns="fiducials" file="$(find cf_tf)/data/$(arg yaml_file)"/>
  <param name="fiducials/model_directory" value="$(find cf_tf)/data/"/>

  <!-- start left camera -->
  <node pkg="cob_fiducials" ns="fiducials" type="fiducials" name="fiducials" output="screen">
        <!--launch-prefix="/usr/bin/gdb"-->
        <remap from="image_color" to="$(arg rgb_topic)/image_rect"/>
        <remap from="camera_info" to="$(arg rgb_topic)/camera_info"/>
        <remap from="detect_fiducials" to="/fiducials/detect_fiducials"/>
        <remap from="fiducial_markers" to="/fiducials/fiducial_markers"/>
        <remap from="image" to="/fiducials/image"/>
        <remap from="get_fiducials" to="/fiducials/get_fiducials"/>
  </node>

<!-- ________________________________________________________________ -->

      <!-- Let's make a tf listener -->



</launch>
